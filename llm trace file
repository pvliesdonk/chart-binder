# Bridge Over Troubled Water - Fuzzy Search Issue

## ✅ FIXED (2025-12-01)

**Solution implemented:** Added normalized artist/title fields to database schema with tiered fuzzy search (normalized LIKE + Levenshtein fallback).

See commit: feat: add normalized fields and tiered fuzzy search

---

## Problem (Original)

Famous song "Bridge Over Troubled Water" by Simon & Garfunkel returns 0 candidates despite:
- ✅ API search finding 63 results
- ✅ Recordings fetched and stored in local DB
- ❌ Fuzzy search returning 0 recordings

## Root Cause

**Artist normalization mismatch:**
- Fuzzy search query: `artist=simon • garfunkel` (bullet separator)
- MusicBrainz stores: `Simon & Garfunkel` or `Simon and Garfunkel`
- The `•` separator from normalization doesn't match database storage

## Same Issue Affects

- AC/DC - Whole Lotta Rosie (0 candidates, likely due to `ac • dc` vs `AC/DC`)
- Potentially any artist with & or / separators

## Evidence from trace4.log

```
2025-12-01 09:05:22,297 - Searching for: Simon & Garfunkel - Bridge Over Troubled Water
2025-12-01 09:05:22,564 - Title/artist search returned 63 results  ✅
2025-12-01 09:07:02,480 - Fuzzy search: title=bridge over troubled water, artist=simon • garfunkel
2025-12-01 09:07:02,481 - Fuzzy search returned 0 recordings  ❌
```

## Potential Solutions

1. **Fuzzy search with multiple separator variants** - Try `&`, `and`, `•`, etc.
2. **Store normalized artist name during fetch** - Index both original and normalized forms
3. **Improve fuzzy search tolerance** - Use edit distance for artist names
4. **Fallback to exact MBID lookup** - If we fetched it, we have the MBID

## Impact

High - affects famous, well-known songs that should be trivial to match.
